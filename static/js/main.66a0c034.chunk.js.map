{"version":3,"sources":["pages/Logged/index.js","pages/Logged/Home.js","Views/Logged/Balance.js","redux/actions.js","components/input.js","utils/wots.mjs","utils/walletServices.js","mochimo-pq-logo.svg","components/navbar.js","components/fileInput.js","components/Textarea.js","pages/home/Login.js","pages/New/new.js","App.js","reportWebVitals.js","redux/actionTypes.js","redux/store/wallet.js","redux/store/index.js","redux/index.js","index.js","components/Modal.js"],"names":["require","Wots","connect","dispatch","bindActionCreators","SET_BALANCE","props","useState","undefined","tagInput","setTagInput","spentInput","setSpentInput","setInputWallet_Secret","isActive","setIsActive","wallet","useSelector","useRouteMatch","url","path","handleClick","event","target","id","wots","generateWots","hash","secret","many_balances","foutainWots","Buffer","from","toString","then","res","isEmpty","getCurrentBlock","block","toast","success","error","generateString","handleChange","value","className","onClick","blob","Blob","JSON","stringify","type","el","document","createElement","href","URL","createObjectURL","download","fileName","body","appendChild","click","removeChild","exact","setActive","save","title","content","label","placeholder","onChange","balances","Object","entries","map","index","balance","state","DELETE_BALANCE","UPDATE_BALANCE","onHover","setHover","amount","setAmount","receiver","setReceiver","currentBalance","wots_address","runEffect","setRunEffect","useEffect","tag","parseInt","status","resolveTag","console","log","blockStatus","addressConsensus","setTimeout","change_wots","remaining_amount","transaction_array","compute_transaction","hexToByteArray","transaction","_arrayBufferToBase64","data","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","send","handleHover","getBalance","result","amount_nmcm","name","onMouseEnter","onMouseLeave","role","navigator","clipboard","writeText","SET_WALLET","pub","password_hash","many_balance","payload","wallet_name","wallet_public","wallet_password_hash","version","balance_hash","amount_nmc","many_spent","key","Input","handleBlur","onBlur","sha256","r","h","t","n","o","Math","pow","a","e","f","length","l","g","k","s","c","i","charCodeAt","u","slice","v","p","d","w","A","concat","C","M","push","String","prototype","this","substr","Array","toASCII","return_str","fromCharCode","toBytes","return_bytes","pushArray","arr","apply","PARAMSN","wots_public_key_gen","seed","pub_seed","addr_bytes","addr","bytes_to_addr","private_key","expand_seed","cache_pk","WOTSLEN1","set_chain_addr","array_to_push","gen_chain","WOTSW","ctr","out_seeds","ull_to_bytes","prf","outlen","input","out_array","to_push","buf","byte_copied_key","byte_copy","byte_copied_input","t_hash","set_key_and_mask","to_push_buf","addr_to_bytes","bitmask","XOR_bitmask_input","source","num_bytes","output","start","steps","out","set_hash_addr","base_w","total","in_","bits","consumed","chain_lenghts","msg","lenghts","msg_base_w","csum","round","from_int_to_byte_array","wots_checksum","chain_address","key_and_mask","number","out_bytes","out_addr","oldhash","fetch","json","replaceAll","CryptoJs","enc","Hex","toUpperCase","xorArray","seed_bytes","password_bytes","encrypted_seed","iter","height","hexRef","floor","random","join","private_seed","public_seed","addresse_seed","public_key","source_wots","source_secret","destination_wots","sent_amount","fee","generate_zeros","how_much","zeros","message","send_total","change_total","tx_fee","signature","wots_sign","buffer","binary","bytes","Uint8Array","len","byteLength","j","b","m","charAt","b2a","Navbar","isAuthenticated","to","src","logo","style","NavbarStart","FileInput","file","handleInput","Textarea","setFile","handleFile","setHandleFile","setInput","method","setMethod","history","useHistory","localeCompare","reader","FileReader","readAsText","onload","parse","files","mnemonic","setMnemonic","pass","setPass","mnemonicWords","_","sampleSize","hashed_char_array_seed","hashed_char_array_pass","_public","Modal","configure","window","onbeforeunload","Logged","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UPDATE_WALLET_NAME","UPDATE_WALLET","initialState","red","green","blue","gift_cards","mnemonic_hash","settings","many_resolve_nodes","allow_biometrics","many_balance_quorum","many_resolve_quorum","allow_notifications","many_balance_nodes","many_send_tx_nodes","combineReducers","action","current","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","store","getElementById","children"],"mappings":"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","file":"static/js/main.66a0c034.chunk.js","sourcesContent":["import {connect, useSelector} from \"react-redux\";\r\nimport {BrowserRouter as Router, Switch, useRouteMatch} from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport {Modal} from \"../../components/Modal\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {Input} from \"../../components/input\";\r\nimport {foutainWots, generateString, generateWots, getCurrentBlock, hash} from \"../../utils/walletServices\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {SET_BALANCE} from \"../../redux/actions\";\r\nimport {isEmpty} from \"lodash/lang\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst {Wots} = require('mochimo');\r\n\r\nconst Logged = (props) => {\r\n\r\n    const [tagInput, setTagInput] = useState(undefined)\r\n    const [spentInput, setSpentInput] = useState(undefined)\r\n    const [inputWallet_Secret, setInputWallet_Secret] = useState()\r\n    const [isActive, setIsActive] = useState()\r\n    const wallet = useSelector(({wallet}) => wallet)\r\n    const {path, url} = useRouteMatch()\r\n\r\n    const handleDownload = () => {\r\n        const fileName = \"wallet\";\r\n        const blob = new Blob([JSON.stringify(wallet)], {type: \"application/json\"})\r\n        const el = document.createElement('a')\r\n        el.href = URL.createObjectURL(blob)\r\n        el.download = fileName + \".json\"\r\n        document.body.appendChild(el);\r\n        el.click();\r\n        document.body.removeChild(el);\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        switch (event.target.id) {\r\n            case \"newBalance\": {\r\n                setIsActive(!isActive)\r\n                break\r\n            }\r\n            case \"balanceCreate\" : {\r\n                const wots = generateWots(hash(hash(wallet.secret + wallet.many_balances) + spentInput), tagInput);\r\n                return tagInput ? foutainWots(Buffer.from(wots[0]).toString(\"hex\")).then((res) => {\r\n                    return isEmpty(res) ? getCurrentBlock().then((block) => (toast.success(` TAG : \"${tagInput}\" is pending activation`),props.SET_BALANCE(wallet.many_balances, hash(wallet.secret + wallet.many_balances), 0, block, tagInput, 0, wots, 0), setIsActive(!isActive)))\r\n                        : (toast.error(`Activation TAG : \"${tagInput}\" failed`)) //TODO: handle this error\r\n                }) : (\r\n                    getCurrentBlock().then((block) => {\r\n                        return (\r\n                            props.SET_BALANCE(wallet.many_balances, hash(wallet.secret + wallet.many_balances), 0, block, tagInput, \"untagged\", wots, 0),\r\n                                setIsActive(!isActive)\r\n                        )\r\n                    })\r\n                )\r\n            }\r\n            case \"random\" : {\r\n                setTagInput(generateString(12))\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        switch (event.target.id) {\r\n            case \"tag\": {\r\n                setTagInput(event.target.value)\r\n                break\r\n            }\r\n            case \"walletPass\": {\r\n                setInputWallet_Secret(event.target.value)\r\n                break\r\n            }\r\n            case \"spent\": {\r\n                setSpentInput(event.target.value)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleBlur = (event) => {\r\n        switch (event.target.id) {\r\n            case \"walletPass\": {\r\n                setInputWallet_Secret(Array.from(hash(inputWallet_Secret)))\r\n                // let naked = xorArray(inputWallet_Secret,wallet.wallet_public)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <Router>\r\n            <section className=\"hero\">\r\n                <div className=\"hero-body\">\r\n                    <div className={\"level-right\"}>\r\n                        <div className={\"level-item p-5\"}>\r\n                            <div className={\"buttons\"}>\r\n                                <button className=\"button is-medium\" onClick={handleDownload}> Download</button>\r\n                                <button className=\"button is-medium\" id={\"newBalance\"} onClick={handleClick}> New\r\n                                    Balance\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <Switch>\r\n                        <Router exact={false} path={url}>\r\n                            <Home/>\r\n                        </Router>\r\n                    </Switch>\r\n                </div>\r\n            </section>\r\n            <Modal isActive={isActive} setActive={setIsActive} save={handleClick}\r\n                   title={\"Create a new balance\"}\r\n                   content={\r\n                       <>\r\n                           <Input id={\"tag\"} label={\"Tag\"} type={\"text\"} placeholder={\"Enter a tag\"}\r\n                                  onChange={handleChange} value={tagInput}/>\r\n                           <Input id={\"spent\"} label={\"spent\"} type={\"text\"} placeholder={\"Enter spent times\"}\r\n                                  onChange={handleChange} value={spentInput}/>\r\n                           <button onClick={handleClick} id={\"random\"} className={\"button is-info\"}> random tag</button>\r\n                       </>\r\n                   }\r\n            >\r\n                {/*  let {id,label, type, placeholder, onChange, handleBlur} = props*/}\r\n                <button className=\"button is-success\" onClick={handleClick} id={\"balanceCreate\"}>\r\n                    Create\r\n                </button>\r\n            </Modal>\r\n        </Router>\r\n    )\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({SET_BALANCE}, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Logged)","import {connect, useSelector} from \"react-redux\";\r\nimport Balance from \"../../Views/Logged/Balance\";\r\nimport {getCurrentBlock} from \"../../utils/walletServices\";\r\n\r\nconst Home = (props) => {\r\n\r\n    const wallet = useSelector(({wallet}) => wallet)\r\n    return wallet.balances ? (\r\n        <>\r\n            <h1 className={\"title\"}> Balances </h1>\r\n            {\r\n               wallet.many_balances > 0 ? Object.entries(wallet.balances).map((value, index)=>{\r\n                   return <Balance balance={value} key={value[1].id} index={index}/>\r\n               }) : (\"\")\r\n            }\r\n        </>\r\n    ) : (\r\n        <div className={\"box\"}>\r\n            <p> no balances </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, null)(Home)","import {\r\n    _arrayBufferToBase64, checkBalanceActivation,\r\n    compute_transaction,\r\n    generateWots,\r\n    getBalance,\r\n    getCurrentBlock,\r\n    hash, resolveTag, useBalanceActivation\r\n} from \"../../utils/walletServices\";\r\nimport {Modal} from \"../../components/Modal\";\r\nimport {Input} from \"../../components/input\";\r\nimport {useCallback, useEffect, useState} from \"react\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {DELETE_BALANCE, SET_BALANCE, UPDATE_BALANCE} from \"../../redux/actions\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst {Wots} = require('mochimo')\r\n\r\nconst Balance = (props) => {\r\n    let {balance} = props\r\n    balance = balance[1]\r\n    const [isActive, setIsActive] = useState();\r\n    const [onHover, setHover] = useState(\"\");\r\n    const [amount, setAmount] = useState();\r\n    const [receiver, setReceiver] = useState();\r\n    const [balanceAmount, setBalanceAmount] = useState();\r\n    const [currentBalance, setCurrentBalance] = useState();\r\n    const wallet = useSelector(({wallet}) => wallet)\r\n    const wots = Buffer.from(balance.wots_address[0]).toString(\"hex\")\r\n    const [runEffect, setRunEffect] = useState(true)\r\n\r\n    const handleRun = () => {\r\n        setRunEffect(!runEffect)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if (balance.tag) {\r\n            if (parseInt(balance.status) !== 1) {\r\n                resolveTag(balance.tag).then((res) => {\r\n                    console.log(balance.blockStatus)\r\n                    return res.success ? (res.addressConsensus === wots ? props.UPDATE_BALANCE(balance.id, balance, \"status\", \"1\") : (getCurrentBlock().then(res => (res < parseInt(balance.blockStatus) + 3 ? console.log(\"less than 3 block\", res) : console.log(\"more than 3 block\")),setTimeout(()=>{setRunEffect(!runEffect)},40000)))) : handleRun()\r\n                })\r\n            }\r\n        }\r\n    },[runEffect])\r\n\r\n    const handleClick = (event) => {\r\n        switch (event.target.id) {\r\n            case \"send\": {\r\n                let source_wots = balance.wots_address[0]\r\n                let source_secret = balance.wots_address[1]\r\n                const change_wots = generateWots(hash(hash(wallet.secret + wallet.many_balances + 1) + 0), balance.tag)\r\n                let TX_fee = 500\r\n                let remaining_amount = currentBalance - (amount + TX_fee);\r\n                let transaction_array = compute_transaction(balance.wots_address[0], balance.wots_address, change_wots[0], receiver.hexToByteArray(), amount, remaining_amount, TX_fee);\r\n                let transaction = _arrayBufferToBase64(transaction_array)\r\n                let url = \"http://api.mochimo.org:8888/push\";\r\n                let data = JSON.stringify({\"transaction\": transaction})\r\n                let xhr = new XMLHttpRequest();\r\n                xhr.open(\"POST\", url);\r\n                xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n                xhr.onreadystatechange = function () {\r\n                    if (xhr.readyState === 4) {\r\n                        if (xhr.status === 200) {\r\n                            getCurrentBlock().then((block) => {\r\n                                toast.success(\"Transaction sent\")\r\n                                props.SET_BALANCE(wallet.many_balances, hash(hash(wallet.secret + wallet.many_balances + 1) + 0), 0, block, balance.tag ? balance.tag : \"\", \"2\", change_wots, 0)\r\n                                props.DELETE_BALANCE(balance.id, balance)\r\n                            })\r\n                        } else if (xhr.status !== 200) {\r\n                            toast.error(\"Failed to send transaction\")\r\n                        }\r\n                    }\r\n                };\r\n                xhr.send(data);\r\n            }\r\n            case \"refresh\":{\r\n                break\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        switch (event.target.id) {\r\n            case 'amount': {\r\n                setAmount(parseInt(event.target.value))\r\n                break\r\n            }\r\n            case 'receiver': {\r\n                setReceiver(event.target.value)\r\n                break\r\n            }\r\n            case 'source': {\r\n\r\n                break\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleHover = (event) => {\r\n        switch (event.type) {\r\n            case \"mouseenter\": {\r\n                setHover(\"is-active\")\r\n                break\r\n            }\r\n            case \"mouseleave\": {\r\n                setHover(\"\")\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"card mb-5\">\r\n            <header className=\"card-header\">\r\n                <p className=\"card-header-title\">\r\n                    TAG : {balance.tag}\r\n                </p>\r\n                <button className=\"card-header-icon\" aria-label=\"more options\" onClick={()=>{getBalance(wots).then(result => props.UPDATE_BALANCE(balance.id, balance,\"amount_nmcm\",result))}}>\r\n                      <span className=\"icon\">\r\n                        <i className=\"fas fa-sync\" aria-hidden=\"true\"></i>\r\n                      </span>\r\n                </button>\r\n            </header>\r\n            <div className=\"card\">\r\n                <div className=\"card-content\">\r\n                    <nav className=\"level\">\r\n                        <div className=\"level-item has-text-centered\">\r\n                            <div>\r\n                                <p className=\"heading\">Show QR code</p>\r\n                                <p className=\"title\"></p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"level-item has-text-centered\">\r\n                            <div>\r\n                                <p className=\"heading\">Total nMCM</p>\r\n                                <div className=\"title\">{balance.amount_nmcm ? balance.amount_nmcm : (\r\n                                    <p className={\"is-loading\"}></p>)}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"level-item has-text-centered\">\r\n                            {balance.name ? (\r\n                                <div>\r\n                                    <p className=\"heading\">Name</p>\r\n                                    <p className=\"title\">{balance.name}</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <p className=\"heading\">Un-named</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"level-item has-text-centered\">\r\n                            <div>\r\n                                <div className={`dropdown ` + onHover} onMouseEnter={handleHover}\r\n                                     onMouseLeave={handleHover}>\r\n                                    <div className=\"dropdown-trigger\">\r\n                                        <button className=\"button\" aria-haspopup=\"true\" data-id={props.index}\r\n                                                aria-controls=\"dropdown-menu\">\r\n                                            <span>Action</span>\r\n                                            <span className=\"icon is-small\">\r\n                                            <i className=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n                                             </span>\r\n                                        </button>\r\n                                        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\r\n                                            <div className=\"dropdown-content\">\r\n                                                <button className=\"dropdown-item button\" onClick={() => {\r\n                                                    navigator.clipboard.writeText(wots)\r\n                                                }}>\r\n                                                    Copy Wots\r\n                                                </button>\r\n                                                <hr className=\"dropdown-divider\"/>\r\n                                                <div className=\"dropdown-item\" onClick={() => {\r\n                                                    setIsActive(!isActive)\r\n                                                }}>\r\n                                                    Send\r\n                                                </div>\r\n                                                <hr className=\"dropdown-divider\"/>\r\n                                                <div className=\"dropdown-item button is-danger is-outlined\"\r\n                                                     onClick={() => {\r\n                                                         props.DELETE_BALANCE(balance.id, balance)\r\n                                                     }}>\r\n                                                    Delete\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n            <Modal isActive={isActive} setActive={setIsActive} save={handleClick}\r\n                   title={\"Send MCM\"}\r\n                   content={\r\n                       <>\r\n                           <p className={\"label\"}> Source </p>\r\n                           <div className=\"select is-link\">\r\n                               <select>\r\n                                   <option>{balance.tag ? balance.tag : hash(wots)}</option>\r\n                               </select>\r\n                           </div>\r\n                           <Input id={\"receiver\"} label={\"Receiver\"} type={\"text\"} placeholder={\"********\"}\r\n                                  onChange={handleChange}/>\r\n                           <Input id={\"amount\"} label={\"Amount\"} type={\"number\"} placeholder={\"********\"}\r\n                                  onChange={handleChange}/>\r\n                       </>\r\n                   }\r\n            >\r\n                <button className=\"button is-success\" onClick={handleClick} id={\"send\"}>\r\n                    Send\r\n                </button>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({SET_BALANCE, DELETE_BALANCE,UPDATE_BALANCE}, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect((state) => {\r\n    return state\r\n}, mapDispatchToProps)(Balance)\r\n\r\n\r\n","export const SET_WALLET = (pub = undefined, password_hash = undefined, secret = undefined, many_balance = 0, balances) => {\r\n    return {\r\n        type: \"SET_WALLET\",\r\n        payload: {\r\n            wallet_name: undefined,\r\n            wallet_public: pub,\r\n            wallet_password_hash: password_hash,\r\n            secret: secret,\r\n            many_balances: many_balance,\r\n            balances: balances,\r\n            version: \"1.0\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const UPDATE_WALLET_NAME = (name) => {\r\n    return {\r\n        type: \"UPDATE_WALLET_NAME\",\r\n        payload: {\r\n            name: name,\r\n        }\r\n    }\r\n}\r\nexport const REFRESH_WALLET = () => {\r\n    return {\r\n        type: \"UPDATE_WALLET_NAME\",\r\n    }\r\n}\r\n\r\nexport const SET_BALANCE = (id, balance_hash, amount_nmc, blockStatus, tag, status, wots_address, many_spent) => {\r\n    return {\r\n        type: \"SET_BALANCE\",\r\n        payload: {\r\n            id: id,\r\n            status: status,\r\n            balance_hash: balance_hash,\r\n            amount_nmcm: amount_nmc,\r\n            blockStatus: blockStatus,\r\n            tag: tag,\r\n            wots_address: wots_address,\r\n            many_spent: many_spent,\r\n        }\r\n    }\r\n}\r\n\r\nexport const UPDATE_BALANCE = (id, balance,key,value) => {\r\n    return {\r\n        type: \"UPDATE_BALANCE\",\r\n        payload: {\r\n            id: id,\r\n            balance: balance,\r\n            key:key,\r\n            value: value,\r\n        }\r\n    }\r\n}\r\n\r\nexport const DELETE_BALANCE = (id, balance) => {\r\n    return {\r\n        type: \"DELETE_BALANCE\",\r\n        payload: {\r\n            id: id,\r\n            balance: balance\r\n        }\r\n    }\r\n}\r\n","import React, {useState} from \"react\";\r\n\r\nexport const Input = (props)=>{\r\n    let {id,label, type, placeholder, onChange, handleBlur, value} = props\r\n    return (\r\n        <div className=\"field\">\r\n            <label className=\"label\">{label}</label>\r\n            <div className=\"control\">\r\n                <input className=\"input\" type={type} placeholder={placeholder} id={id}\r\n                       onChange={event => onChange(event)} onBlur={handleBlur} value={value}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","/*\r\nMinified version. \r\nFrom https://geraintluff.github.io/sha256/\r\n*/\r\n// eslint-disable-next-line no-unused-expressions\r\nfunction sha256(r){function h(r,h){return r>>>h|r<<32-h}for(var t,n,o=Math.pow,a=o(2,32),\r\n// eslint-disable-next-line no-unused-expressions\r\ne=[],f=8*r.length,l=sha256.h=sha256.h||[],g=sha256.k=sha256.k||[],s=g.length,c={},i=2;s<64;i++)\r\n// eslint-disable-next-line no-unused-expressions\r\nif(!c[i]){for(t=0;t<313;t+=i)c[t]=i;l[s]=o(i,.5)*a|0,g[s++]=o(i,1/3)*a|0}for(r+=\"Â€\";r.length%64-56;)r+=\"\\0\";for(t=0;t<r.length;t++){if((n=r.charCodeAt(t))>>8)return;\r\ne[t>>2]|=n<<(3-t)%4*8}for(e[e.length]=f/a|0,e[e.length]=f,n=0;n<e.length;){var u=e.slice(n,n+=16),v=l;for(l=l.slice(0,8),t=0;t<64;t++)\r\n{var k=u[t-15],p=u[t-2],d=l[0],w=l[4],A=l[7]+(h(w,6)^h(w,11)^h(w,25))+(w&l[5]^~w&l[6])+g[t]+(u[t]=t<16?u[t]:u[t-16]+(h(k,7)^h(k,18)^k>>>3)+u[t-7]+(h(p,17)^h(p,19)^p>>>10)|0);\r\n(l=[A+((h(d,2)^h(d,13)^h(d,22))+(d&l[1]^d&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+A|0}for(t=0;t<8;t++)l[t]=l[t]+v[t]|0}var C=[];\r\n\t// eslint-disable-next-line no-unused-expressions\r\nfor(t=0;t<8;t++)for(n=3;n+1;n--){var M=l[t]>>8*n&255;C.push(M),(M<16?0:\"\")+M.toString(16),0}return C}\r\n\r\n/*\r\nfrom: https://stackoverflow.com/a/16436975\r\n*/\r\n/*\r\nfunction arraysEqual(a, b) {\r\n\tif (a === b) return true;\r\n\tif (a == null || b == null) return false;\r\n\tif (a.length !== b.length) return false;\r\n  \r\n\tfor (var i = 0; i < a.length; ++i) {\r\n\t  if (a[i] !== b[i]) return false;\r\n\t}\r\n\treturn true;\r\n}\r\n*/\r\n\r\n/*\r\n/*\r\n/* @NICKP05\r\n*/\r\n\r\nString.prototype.hexToByteArray = function() {\r\n\tvar result = [];\r\n\tfor (var i = 0; i < this.length; i += 2) {\r\n\t\tresult.push(parseInt(this.substr(i, 2), 16));\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction bArr_toString(byte_array) {\r\n\tvar return_str = \"\";\r\n\tfor (var i = 0; i < byte_array.length; i++) {\r\n\t\treturn_str += String.fromCharCode(byte_array[i]);\r\n\t}\r\n\treturn return_str;\r\n}\r\n//I did also this to make sometimes everything simpler\r\nArray.prototype.toASCII = function () {\r\n\tvar return_str = \"\";\r\n\tfor (var i = 0; i < this.length; i++) {\r\n\t\treturn_str += String.fromCharCode(this[i]);\r\n\t}\r\n\treturn return_str;\r\n}\r\nString.prototype.toBytes = function () {\r\n\tvar return_bytes = [];\r\n\tfor (var i = 0; i < this.length; i++) {\r\n\t\treturn_bytes.push(this.charCodeAt(i));\r\n\t}\r\n\treturn return_bytes;\r\n}\r\nArray.prototype.pushArray = function(arr) {\r\n    this.push.apply(this, arr);\r\n};\r\n\r\n// NOW THERE ARE THE DEFINITIONS\r\n\r\nvar PARAMSN = 32;\r\nvar WOTSW = 16;\r\nvar WOTSLOGW = 4;\r\nvar WOTSLEN1 = (8 * PARAMSN / WOTSLOGW);\r\nvar WOTSLEN2 = 3;\r\nvar WOTSLEN  = WOTSLEN1 + WOTSLEN2;\r\n// var WOTSSIGBYTES = WOTSLEN * PARAMSN;\r\n//\r\n// /* 2144 + 32 + 32 = 2208 */\r\n// var TXSIGLEN  = 2144;\r\n// var TXADDRLEN = 2208;\r\n\r\nvar XMSS_HASH_PADDING_F = 0;\r\nvar XMSS_HASH_PADDING_PRF = 3;\r\n\r\n\r\n/* the seed is the private key. The seed its 32 bytes of 8 bits each */\r\nfunction wots_public_key_gen(seed, pub_seed, addr_bytes) {\r\n\tvar addr = bytes_to_addr(addr_bytes);\r\n    var private_key = expand_seed(seed); // I don't know if this is really the private key. Boh\r\n\tvar cache_pk = [];\r\n\tfor (var i = 0; i < WOTSLEN; i++) {\r\n\t\tset_chain_addr(i, addr); //here is not in byte array format cause I think I dont necessarly have to\r\n\t\tvar priv_key_portion = private_key.slice(i*PARAMSN, PARAMSN + i*PARAMSN);\r\n\t\tvar array_to_push = gen_chain(priv_key_portion, 0, WOTSW - 1, pub_seed, addr );\r\n\r\n\t\tcache_pk.pushArray(array_to_push);\r\n\t}\r\n\treturn cache_pk;\r\n}\r\n\r\nfunction wots_sign(msg, seed, pub_seed, addr_bytes) {\r\n\tvar addr = bytes_to_addr(addr_bytes);\r\n\tvar lenghts = []; //its WOTSLEN long (67)\r\n\tvar signature = [];\r\n\tlenghts = chain_lenghts(msg);\r\n\tconsole.log(\"lenghts\");\r\n\tconsole.log(lenghts.length);\r\n\tconsole.log(lenghts.toString());\r\n\t/* the wots private key comes from the seed*/\r\n\tvar private_key = expand_seed(seed); // this is the private key\r\n\r\n\tfor(var i = 0; i < WOTSLEN; i++) {\r\n\t\tset_chain_addr(i, addr);\r\n\t\tvar priv_key_portion = private_key.slice(i*PARAMSN, PARAMSN + i*PARAMSN);\r\n\t\tvar array_to_push = gen_chain(priv_key_portion, 0, lenghts[i], pub_seed, addr );\r\n\t\tsignature.pushArray(array_to_push);\r\n\t}\r\n\treturn signature;\r\n}\r\n\r\nfunction wots_publickey_from_sig(sig, msg, pub_seed, addr_bytes) {\r\n\tvar addr = bytes_to_addr(addr_bytes);\r\n\tvar lenghts = []; //array of WOTSLEN size\r\n\tlenghts = chain_lenghts(msg);\r\n\r\n\tvar public_key = [];\r\n\tfor(var i = 0; i < WOTSLEN; i++) {\r\n\t\tset_chain_addr(i, addr);\r\n\t\tvar signature_portion = sig.slice(i*PARAMSN, PARAMSN + i*PARAMSN);\r\n\t\tpublic_key.pushArray(gen_chain(signature_portion, lenghts[i], WOTSW - 1 - lenghts[i], pub_seed, addr));\r\n\t}\r\n\treturn public_key;\r\n}\r\n\r\nfunction expand_seed(seed) {\r\n    var ctr = []; //This will be max 32 items\r\n    var out_seeds = []; //This will be maximum with WOTSLEN items\r\n    for(var i = 0; i < WOTSLEN; i++) {\r\n        ctr = ull_to_bytes(PARAMSN, [i]); //yeah I hope \"i\" doesnt go more than 255\r\n\t\tout_seeds.pushArray(prf(ctr, seed));\r\n    }\r\n\treturn out_seeds;\r\n}\r\n\r\nfunction ull_to_bytes(outlen, input) {\r\n    var out_array = [];\r\n\tfor(var i = outlen-1; i>=0; i--) {\r\n\t\tvar to_push = input[i];\r\n\t\tif(to_push == undefined) {\r\n\t\t\tout_array.push(0);\r\n\t\t} else {\r\n\t\t\tout_array.push(to_push);\r\n\t\t}\r\n\t}\r\n    return out_array;\r\n}\r\n\r\nfunction prf(input, key) {\r\n    var buf = [];\r\n    buf = ull_to_bytes(PARAMSN, [XMSS_HASH_PADDING_PRF]); // 32 and 3\r\n\r\n\tvar byte_copied_key = byte_copy(key, PARAMSN);\r\n\tbuf.pushArray(byte_copied_key);\r\n\r\n\tvar byte_copied_input = byte_copy(input,32);\r\n\tbuf.pushArray(byte_copied_input);\r\n\r\n\t//I was dubios of this but it works as expected\r\n\treturn sha256(buf.toASCII());\r\n}\r\nfunction t_hash(input, pub_seed, addr) {\r\n\tvar buf = []; // maximuym lenght 3*PARAMSN\r\n\tvar bitmask = []; //maximum lenght PARAMSN\r\n\tvar addr_as_bytes = []; //maximum lenght 32\r\n\r\n\tvar buf = ull_to_bytes(PARAMSN, [XMSS_HASH_PADDING_F]);\r\n\r\n\t/* generate n-byte key */\r\n\tset_key_and_mask(0, addr);\r\n\taddr_as_bytes = addr_to_bytes(addr);\r\n\tvar to_push_buf = prf(addr_as_bytes, pub_seed);\r\n\tbuf.pushArray(to_push_buf);\r\n\r\n\t/*generate the n-byte mask */\r\n\tset_key_and_mask(1, addr);\r\n\taddr_as_bytes = addr_to_bytes(addr);\r\n\tvar bitmask = prf(addr_as_bytes, pub_seed);\r\n\r\n\tvar XOR_bitmask_input = [];\r\n\tfor(var i = 0; i < PARAMSN; i++) {\r\n\t\tXOR_bitmask_input.push(input[i] ^ bitmask[i]);\r\n\t}\r\n\tbuf.pushArray(XOR_bitmask_input);\r\n\treturn sha256(buf.toASCII());\r\n}\r\n\r\nfunction byte_copy(source, num_bytes) {\r\n    var output = []\r\n    for(var i = 0; i < num_bytes; i++) {\r\n\t\tif(source[i] == undefined) {\r\n\t\t\toutput.push(0);\r\n\t\t} else{\r\n\t\t\toutput.push(source[i]);\r\n\t\t}\r\n    }\r\n\treturn output;\r\n}\r\n\r\nfunction gen_chain(input, start, steps, pub_seed, addr)  {\r\n\tvar out = byte_copy(input, PARAMSN);\r\n\r\n\tfor ( var i = start; i < (start+steps) && i < WOTSW; i++) {\r\n\t\tset_hash_addr(i, addr);\r\n\t\tout = t_hash(out, pub_seed, addr);\r\n\t}\r\n\treturn out;\r\n}\r\n\r\n/*\r\nThis works only if log_w is a divisor of 8!\r\n*/\r\nfunction base_w(outlen, input) {\r\n\t/*\r\n\tif(8 % WOTSLOGW != 0) {\r\n\t\tconsole.log(\"SECURITY PROBLEM! WOTSLOGW MUST BE A DIVISOR OF 8!\");\r\n\t}\r\n\tthinking about then making an upper library that handles all those functions with objects, so I check that automatically\r\n\t*/\r\n\tvar in_ = 0;\r\n\tvar out = 0;\r\n\tvar total; // I am not sure about this one\r\n\tvar bits = 0;\r\n\tvar output = [];\r\n\tfor(var consumed = 0; consumed < outlen; consumed++) {\r\n\t\tif(bits == 0) {\r\n\t\t\ttotal = input[in_];\r\n\t\t\tin_ ++;\r\n\t\t\tbits += 8;\r\n\t\t}\r\n\t\tbits -= WOTSLOGW;\r\n\t\toutput[out] = (total >> bits) & (WOTSW - 1);\r\n\t\tout++;\r\n\t}\r\n\treturn output;\r\n}\r\nfunction wots_checksum(msg_base_w) {\r\n\tvar csum = 0;\r\n\tvar csum_bytes = []; //array of size (WOTSLEN2 * WOTSLOGW + 7) / 8 = (12 + 7) / 8 --> mhhhhhhh\r\n\tfor (var i = 0; i < WOTSLEN1; i++) {\r\n\t\tcsum += WOTSW - 1 - msg_base_w[i];\r\n\t}\r\n\t/* convert checksum to base_w */\r\n\tcsum = csum << (8 - ((WOTSLEN2 * WOTSLOGW) % 8));\r\n\t//console.log(csum);\r\n\tcsum_bytes = ull_to_bytes(Math.round((WOTSLEN2 * WOTSLOGW + 7) / 8), from_int_to_byte_array(csum));\r\n\t// ^^^ TO CHECK! from_int_to_byte_array makes the most significant byte in the end!\r\n\r\n\t//console.log(\"csum bytes: \" + csum_bytes.toString());\r\n\tvar csum_base_w = base_w(WOTSLEN2, csum_bytes);\r\n\treturn csum_base_w;\r\n}\r\nfunction chain_lenghts(msg) {\r\n\tvar lenghts = base_w(WOTSLEN1, msg);\r\n\tlenghts.pushArray(wots_checksum(lenghts));\r\n\treturn lenghts;\r\n}\r\n\r\nfunction set_chain_addr(chain_address, addr) {\r\n\taddr[\"5\"] = [0,0,0,chain_address]; //yeah hard coded but its ok bro\r\n}\r\nfunction set_hash_addr(hash, addr) {\r\n\taddr[\"6\"] = [0,0,0,hash];\r\n}\r\nfunction set_key_and_mask(key_and_mask, addr) {\r\n\taddr[\"7\"] = [0,0,0,key_and_mask];\r\n}\r\nfunction from_int_to_byte_array(number) {\r\n\tvar out_array = [];\r\n\tif(number==0) {\r\n\t\tout_array.push(number);\r\n\t}\r\n\twhile(number != 0) {\r\n\t\tout_array.push(number & 0xff);\r\n\t\tnumber = number >> 8;\r\n\t}\r\n\treturn out_array;\r\n}\r\nfunction addr_to_bytes(addr) {\r\n\tvar out_bytes = [];\r\n\tfor(var i = 0; i < 8; i++) {\r\n\t\tif(addr[(i.toString())] == undefined) {\r\n\t\t\taddr[i.toString()] = [0,0,0,0];\r\n\t\t}\r\n\t\tvar to_push = addr[(i.toString())];\r\n\t\tout_bytes.pushArray(to_push);\r\n\t}\r\n\treturn out_bytes;\r\n}\r\nfunction bytes_to_addr(addr_bytes) {\r\n\tvar out_addr = {\"0\":[0,0,0,0], \"1\":[0,0,0,0], \"2\":[0,0,0,0], \"3\":[0,0,0,0],\r\n\t\t\t\t\t\"4\":[0,0,0,0], \"5\":[0,0,0,0], \"6\":[0,0,0,0], \"7\":[0,0,0,0]};\r\n\tfor(var i = 0; i < 8; i++) {\r\n\t\tout_addr[i.toString()] =  ull_to_bytes(4, addr_bytes.slice(i*4, i*4 + 4));\r\n\t}\r\n\treturn out_addr;\r\n}\r\n\r\nexport {sha256, wots_sign, wots_public_key_gen, wots_publickey_from_sig, ull_to_bytes, from_int_to_byte_array, byte_copy};\r\n","// import sha256 from 'crypto-js/sha256';\r\nimport CryptoJs from \"crypto-js\";\r\nimport {byte_copy, sha256, from_int_to_byte_array, wots_sign} from \"./wots.mjs\";\r\nimport {wots_public_key_gen} from \"./wots.mjs\";\r\nimport {useCallback, useEffect, useState} from \"react\";\r\nvar oldhash = require(\"crypto-js/sha256\");\r\n\r\n\r\nexport const foutainWots = (wots) => {\r\n    return fetch(`https://wallet.mochimo.com/fund/${wots}`).then(res => res.status === 200 ? null:res.json())\r\n}\r\n\r\nexport const resolveTag = (tag) => {\r\n    return fetch(`http://api.mochimo.org:8888/net/resolve/${tag}`).then(res => res.json())\r\n}\r\n// eslint-disable-next-line no-extend-native\r\nString.prototype.hexToByteArray = function() {\r\n    var result = [];\r\n    for (var i = 0; i < this.length; i += 2) {\r\n        result.push(parseInt(this.substr(i, 2), 16));\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const hash = (value,salt = null)=>{\r\n    return oldhash(value.toString().replaceAll(\",\",\" \")).toString(CryptoJs.enc.Hex).toUpperCase()\r\n}\r\n\r\n\r\nexport const xorArray = (seed_bytes, password_bytes) => {\r\n    let encrypted_seed = [];\r\n    for (let iter = 0; iter < 32; iter++) {\r\n        encrypted_seed.push(seed_bytes[iter] ^ password_bytes[iter])\r\n    }\r\n    return encrypted_seed;\r\n}\r\n\r\nexport const getBalance = async (wots) => {\r\n    return await fetch(`http://api.mochimo.org:8888/net/balance/${wots}`).then(res => res.json()).then(res => (res.success ? res['quorum'][0].balance : getBalance(wots)))\r\n}\r\n\r\nexport const getCurrentBlock = async () => {\r\n    let block = fetch(\"http://api.mochimo.org:8888/net/chain\").then(res=>res.json()).then(({block})=>block.height)\r\n    return block\r\n}\r\n\r\nexport const generateString = (length) => {\r\n\r\n    let result = ['0', '2'];\r\n    let hexRef = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\n\r\n    for (let n = 0; n < 22; n++) {\r\n        result.push(hexRef[Math.floor(Math.random() * 16)]);\r\n    }\r\n\r\n    return result.join('').toUpperCase()\r\n}\r\n/*\r\n* @NickP55\r\n* */\r\nfunction generateWots(seed,tag = undefined){\r\n    const private_seed = sha256(seed + \"seed\")\r\n    const public_seed = sha256(seed + \"publ\")\r\n    const addresse_seed = sha256(seed + \"addr\")\r\n    const public_key = wots_public_key_gen(private_seed,public_seed,addresse_seed)\r\n    const wots = [...public_key]\r\n    wots.pushArray(public_seed);\r\n    wots.pushArray(addresse_seed.slice(0, 20));\r\n    if(tag === undefined || tag.length !== 24) {\r\n        //default tag, cause it is always equal is a waste of resources making a return with it\r\n        wots.pushArray([66,0,0,0,14,0,0,0,1,0,0,0]);\r\n    } else {\r\n        wots.pushArray(tag.hexToByteArray());\r\n    }\r\n    return [wots, private_seed, public_seed, addresse_seed];\r\n}\r\n\r\nfunction compute_transaction(source_wots, source_secret, change_wots, destination_wots, sent_amount, remaining_amount, fee) {\r\n    //the lenght in bytes the sign message will have is 6456 bytes\r\n    function generate_zeros(how_much) {\r\n        let zeros = [];\r\n        for(let i = 0; i < how_much; i++) {\r\n            zeros.push(0);\r\n        }\r\n        return zeros;\r\n    }\r\n    let message = [];\r\n    /*\r\n    To understand better this message array look at here:\r\n    https://github.com/mochimodev/mochimo/blob/cef95cdea68d12b840ba8631aae5f1312e724093/src/types.h#L72\r\n    */\r\n    message.pushArray(generate_zeros(2)); //things of network etc\r\n    message.pushArray([57,5]);\r\n    message.pushArray(generate_zeros(4)); //things of network etc\r\n    message.pushArray(byte_copy(from_int_to_byte_array(3), 2))\r\n    message.pushArray(generate_zeros(16)); //the two blocks things\r\n    message.pushArray(generate_zeros(32*3)); //block etc hashes and weight\r\n    message.pushArray(generate_zeros(2)); //len..\r\n\r\n    if(source_wots.length !== 2208 || change_wots.length !== 2208 || destination_wots.length !== 2208) {\r\n        console.log(\"the input parameters are wrong\")\r\n        return false;\r\n    }\r\n    message.pushArray(source_wots);\r\n    message.pushArray(destination_wots);\r\n    message.pushArray(change_wots);\r\n    let send_total = byte_copy(from_int_to_byte_array(sent_amount), 8);\r\n    message.pushArray(send_total);\r\n    let change_total = byte_copy(from_int_to_byte_array(remaining_amount), 8);\r\n    message.pushArray(change_total);\r\n    let tx_fee = byte_copy(from_int_to_byte_array(fee), 8);\r\n    message.pushArray(tx_fee);\r\n    let message_to_sign = message.slice(10+16+32*3+2, 10+16+32*3+2 + 2208*3 + 3*8);\r\n    let hash_message = sha256(message_to_sign.toASCII());\r\n    let pub_seed = source_wots.slice(2144, 2144+32);\r\n    let pub_addr = source_wots.slice(2144 + 32, 2144+64);\r\n    let signature = wots_sign(hash_message, source_secret, pub_seed, pub_addr);\r\n    message.pushArray(signature);\r\n    message.pushArray(generate_zeros(2));\r\n    message.pushArray([205,171]);\r\n    return message;\r\n}\r\n\r\nfunction _arrayBufferToBase64( buffer ) {\r\n    function b2a(a) {\r\n        var c, d, e, f, g, h, i, j, o, b = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", k = 0, l = 0, m = \"\", n = [];\r\n        if (!a) return a;\r\n        // eslint-disable-next-line no-unused-expressions\r\n        do c = a.charCodeAt(k++), d = a.charCodeAt(k++), e = a.charCodeAt(k++), j = c << 16 | d << 8 | e,\r\n            f = 63 & j >> 18, g = 63 & j >> 12, h = 63 & j >> 6, i = 63 & j, n[l++] = b.charAt(f) + b.charAt(g) + b.charAt(h) + b.charAt(i);\r\n        while (k < a.length);\r\n        return m = n.join(\"\"), o = a.length % 3, (o ? m.slice(0, o - 3) :m) + \"===\".slice(o || 3);\r\n    }\r\n    var binary = ''; var bytes = new Uint8Array( buffer );\r\n    var len = bytes.byteLength;\r\n    for (var i = 0; i < len; i++) {\r\n        binary += String.fromCharCode( bytes[ i ] );\r\n    }\r\n    return b2a( binary );\r\n}\r\n\r\nexport {generateWots, compute_transaction, _arrayBufferToBase64}\r\n","export default __webpack_public_path__ + \"static/media/mochimo-pq-logo.0304aae2.svg\";","import {Link} from \"react-router-dom\";\r\nimport logo from '../mochimo-pq-logo.svg'\r\n\r\nexport const Navbar = (props) => {\r\n\r\n    const handleClick = (event) => {\r\n        let test = document.querySelector('[data-target]')\r\n        let target = test.dataset.target\r\n        let menu = document.getElementById(target)\r\n        menu.classList.toggle('is-active')\r\n    }\r\n    return (\r\n        <nav className=\"navbar is-5\" role=\"navigation\" aria-label=\"main navigation\">\r\n            <div className=\"navbar-brand\">\r\n                {props.isAuthenticated ? <Link to={\"/logged\"}><img src={logo} style={{height: \"60px\"}}/></Link> : <Link to={\"/\"}><img src={logo} style={{height: \"60px\"}}/></Link>}\r\n\r\n                <a role=\"button\" className=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\"\r\n                   data-target=\"navbarBasicExample\">\r\n                    <span aria-hidden=\"true\"></span>\r\n                    <span aria-hidden=\"true\"></span>\r\n                    <span aria-hidden=\"true\"></span>\r\n                </a>\r\n            </div>\r\n            <div className=\"navbar-menu\">\r\n                <NavbarStart/>\r\n                <div className=\"navbar-end\">\r\n                    <div className=\"navbar-item\">\r\n                        <div className=\"buttons\">\r\n                            <Link to={\"/\"} className=\"button is-primary\">\r\n                                Current wallet\r\n                                : {props.isAuthenticated ? (props.isAuthenticated.wallet_name ? props.isAuthenticated.wallet_name : \"Un-named\") : \"Not Connected\"}\r\n                            </Link>\r\n                            {props.isAuthenticated ?\r\n                                <Link to={\"logged/settings\"} className=\"button\"> Settings </Link> : null}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n//     return !props.isAuthenticated ? (\r\n//         <nav className=\"navbar is-5\" role=\"navigation\" aria-label=\"main navigation\">\r\n//             <div className=\"navbar-brand\">\r\n//                 <Link to={\"/\"}>\r\n//                     <img src={logo} style={{height: \"50px\"}}/>\r\n//                 </Link>\r\n//                 <a role=\"button\" className=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\"\r\n//                    data-target=\"navbar-menu\" onClick={handleClick}>\r\n//                     <span aria-hidden=\"true\"></span>\r\n//                     <span aria-hidden=\"true\"></span>\r\n//                     <span aria-hidden=\"true\"></span>\r\n//                 </a>\r\n//             </div>\r\n//\r\n//             <div className=\"navbar-menu\" id={\"navbar-menu\"}>\r\n//                 <NavbarStart/>\r\n//\r\n//                 <div className=\"navbar-end\">\r\n//                     <div className=\"navbar-item\">\r\n//                         <div className=\"buttons\">\r\n//                             <Link to={\"/new\"} className=\"button is-primary\">\r\n//                                 New Wallet\r\n//                             </Link>\r\n//                             <Link to={\"/\"} className=\"button is-light\">\r\n//                                 Log-in\r\n//                             </Link>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//         </nav>\r\n//     ) : (\r\n//         <nav className=\"navbar is-5\" role=\"navigation\" aria-label=\"main navigation\">\r\n//             <div className=\"navbar-brand\">\r\n//                 <Link to={\"/\"}>\r\n//                     <img src={logo} height={\"150px\"}/>\r\n//                 </Link>\r\n//                 <a role=\"button\" className=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\"\r\n//                    data-target=\"navbarBasicExample\">\r\n//                     <span aria-hidden=\"true\"></span>\r\n//                     <span aria-hidden=\"true\"></span>\r\n//                     <span aria-hidden=\"true\"></span>\r\n//                 </a>\r\n//             </div>\r\n//\r\n//             <div className=\"navbar-menu\">\r\n//                 <NavbarStart/>\r\n//\r\n//                 <div className=\"navbar-end\">\r\n//                     <div className=\"navbar-item\">\r\n//                         <div className=\"buttons\">\r\n//                             <Link to={\"/new\"} className=\"button is-primary\">\r\n//                                 New Balance\r\n//                             </Link>\r\n//                             <Link to={\"/\"} className=\"button\">\r\n//                                 Current wallet\r\n//                                 : {props.isAuthenticated.wallet_name ? props.isAuthenticated.wallet_name : \"un-named wallet\"}\r\n//                             </Link>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//         </nav>\r\n//     )\r\n// }\r\n\r\nconst NavbarStart = () => {\r\n    return (\r\n        <div className=\"navbar-start\">\r\n            <Link to={\"/\"} className=\"navbar-item\">\r\n                Home\r\n            </Link>\r\n\r\n            <Link to={\"/new\"} className=\"navbar-item\">\r\n                New\r\n            </Link>\r\n\r\n            <div className=\"navbar-item has-dropdown is-hoverable\">\r\n                <a className=\"navbar-link\">\r\n                    More\r\n                </a>\r\n                <div className=\"navbar-dropdown\">\r\n                    <a className=\"navbar-item\">\r\n                        About\r\n                    </a>\r\n                    <hr className=\"navbar-divider\"/>\r\n                    <a className=\"navbar-item\">\r\n                        Report an issue\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","const FileInput = (props) => {\r\n\r\n    const {file, handleInput} = props\r\n\r\n    return (\r\n        <div className=\"file has-name is-fullwidth\">\r\n            <label className=\"file-label\">\r\n                <input className=\"file-input\" type=\"file\" name=\"resume\" onChange={handleInput}/>\r\n                <span className=\"file-cta\">\r\n                              <span className=\"file-icon\">\r\n                                <i className=\"fas fa-upload\"></i>\r\n                              </span>\r\n                              <span className=\"file-label\">\r\n                                Choose a fileâ€¦\r\n                              </span>\r\n                            </span>\r\n                <span className=\"file-name\">\r\n                              {file ? file.name : \"load wallet file\"}\r\n                            </span>\r\n            </label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileInput","const Textarea = (props) => {\r\n    const {value,id, onChange} = props\r\n  return (\r\n      <div className=\"field\">\r\n          <label className=\"label\">You're seed</label>\r\n          <div className=\"control\">\r\n              <textarea className=\"textarea\" placeholder=\"Textarea\" value={value} id={id} onChange={onChange}/>\r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Textarea","import {useEffect, useState} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {hash, xorArray} from \"../../utils/walletServices\"\r\nimport {bindActionCreators} from \"redux\";\r\nimport {SET_WALLET} from \"../../redux/actions\";\r\nimport {connect} from \"react-redux\";\r\nimport FileInput from \"../../components/fileInput\";\r\nimport {Input} from \"../../components/input\";\r\nimport Textarea from \"../../components/Textarea\";\r\n\r\nconst Login = (props) => {\r\n    const [selected, setSelected] = useState()\r\n    const [file, setFile] = useState(null)\r\n    const [handleFile, setHandleFile] = useState(null)\r\n    const [input, setInput] = useState()\r\n    const [method, setMethod] = useState(\"file\")\r\n    const history = useHistory()\r\n    // eslint-disable-next-line no-unused-vars\r\n\r\n    const handleClick = (event) => {\r\n        switch (event.target.id) {\r\n            case \"submit\" : {\r\n                switch (method) {\r\n                    case \"file\": {\r\n                        let wallet = handleFile\r\n                        if (wallet.wallet_password_hash.toString().localeCompare(hash(input)) === 0){\r\n                            props.SET_WALLET(wallet.wallet_public, wallet.wallet_password_hash,wallet.secret,wallet.many_balances, wallet.balances)\r\n                            history.push('/logged')\r\n                        }\r\n                        break\r\n                    }\r\n                    case \"recovery\":{\r\n                        props.SET_WALLET(\"\",\"\",hash(input))\r\n                        history.push('/logged')\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n            break\r\n            case \"recovery\":{\r\n                setMethod(\"recovery\")\r\n                break\r\n            }\r\n            case \"file\":{\r\n                setMethod(\"file\")\r\n                break\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(()=>{\r\n        let blob = file ? file : new Blob([])\r\n        let reader = new FileReader()\r\n        reader.readAsText(blob)\r\n        reader.onload = (data)=>{\r\n            return data.target.result ?\r\n            setHandleFile(JSON.parse(data.target.result)) : null\r\n        }\r\n    },[file])\r\n\r\n    const handleInput = (event) => {\r\n        event.target.files ? setFile(event.target.files[0]) : setInput(event.target.value)\r\n    }\r\n    return (\r\n        <section className=\"hero\">\r\n            <div className=\"hero-body\">\r\n                <div className={\"box\"}>\r\n                    <div className=\"tabs\">\r\n                        <ul onClick={handleClick}>\r\n                            <li><a id={\"file\"}>File</a></li>\r\n                            <li><a id={'other'}>Other method</a></li>\r\n                            <li><a id={'recovery'}>Mnemonic phrase</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    {method === \"file\" ? <> <FileInput handleInput={handleInput} file={file}/>  <Input type={\"password\"} id={'input'} label={\"Password\"} placeholder={\"*******\"} onChange={handleInput}/> </> : <Textarea value={input} onChange={handleInput}/>}\r\n                    <button className=\"button is-primary\" onClick={handleClick} id={\"submit\"}>Sign in</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({SET_WALLET}, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(Login)","import {useEffect, useState} from \"react\";\r\nimport _ from 'lodash'\r\nimport {Modal} from \"../../components/Modal\";\r\nimport {connect} from \"react-redux\";\r\nimport {SET_WALLET} from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {hash, xorArray} from \"../../utils/walletServices\";\r\nimport Textarea from \"../../components/Textarea\";\r\n\r\nconst New_Wallet = (props, dispatch) => {\r\n    const [mnemonic, setMnemonic] = useState(undefined)\r\n    const [pass, setPass] = useState()\r\n    const [hashedPass, setHashedPass] = useState()\r\n    const [isActive, setIsActive] = useState(false)\r\n    const mnemonicWords = require('mnemonic-words');\r\n    const random = Math.floor(Math.random() * mnemonicWords.length);\r\n\r\n    const handleClick = event => {\r\n        switch (event.target.id) {\r\n            case \"random\" : {\r\n                setMnemonic(_.sampleSize(mnemonicWords, 12))\r\n                break\r\n            }\r\n            case \"confirmSeed\": {\r\n                setIsActive(!isActive)\r\n                break\r\n            }\r\n            case \"submit\": {\r\n                let hashed_char_array_seed = Array.from(hash(mnemonic).toUpperCase())\r\n                let hashed_char_array_pass = Array.from(hash(pass))\r\n                let _public = xorArray(hashed_char_array_seed, hashed_char_array_pass)\r\n                let secret = hash(mnemonic).toUpperCase()\r\n                props.SET_WALLET(_public,hash(pass),secret)\r\n                setIsActive(!isActive)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleChange = event => {\r\n        switch (event.target.id) {\r\n            case \"password\": {\r\n                setPass(event.target.value)\r\n                break\r\n            }\r\n            case \"mnemonic\": {\r\n                setMnemonic(event.target.value)\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\n    // useEffect(()=>{\r\n    //     setHashedPass(hash(pass))\r\n    // },[pass])\r\n\r\n    return (\r\n        <div className={\"container\"}>\r\n            <section className=\"hero\">\r\n                <div className=\"hero-body\">\r\n                    <div className={\"box\"}>\r\n                        <Textarea value={mnemonic} onChange={handleChange} id={\"mnemonic\"}/>\r\n                        <button className={\"button is-primary\"} onClick={handleClick} id={\"random\"}> Generate random\r\n                            seed\r\n                        </button>\r\n                        <div className=\"field\">\r\n                            <label className=\"label\">Password</label>\r\n                            <div className=\"control\">\r\n                                <input className=\"input\" type=\"password\" placeholder=\"********\" id={\"password\"}\r\n                                       onChange={handleChange} />\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"button is-primary\" onClick={handleClick} id={\"confirmSeed\"}>Sign in</button>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <Modal isActive={isActive} setActive={setIsActive} content={mnemonic ? mnemonic.toString() : null} save={handleClick}\r\n                title={\"Save you're mnemonic words !\"}\r\n                >\r\n                <Link to={\"/logged\"} className=\"button is-success\" onClick={handleClick} id={\"submit\"}>\r\n                    Words Saved\r\n                </Link>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({SET_WALLET}, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(New_Wallet)","import './App.css';\r\nimport {Navbar} from \"./components/navbar\"\r\nimport {BrowserRouter as Router, Switch,Route} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport Login from \"./pages/home/Login\";\r\nimport New_Wallet from \"./pages/New/new\";\r\nimport Logged from \"./pages/Logged\";\r\nimport {toast} from \"react-toastify\";\r\nimport {useEffect} from \"react\";\r\n\r\nfunction App(props) {\r\n    toast.configure()\r\n    const isAuthenticated = props.wallet ? props.wallet : undefined\r\n    // console.log(isAuthenticated)\r\n    useEffect(()=>{\r\n        window.onbeforeunload = confirmExit;\r\n        function confirmExit() {\r\n            toast.error(\"Save you're wallet\")\r\n            return \"You have attempted to leave this page. Are you sure?\";\r\n        }\r\n    },[])\r\n    return (\r\n        <Router>\r\n            <Navbar isAuthenticated={isAuthenticated}/>\r\n            <Switch>\r\n                <Route exact={true} path={\"/\"}>\r\n                    <div className={\"container\"}>\r\n                        <Login/>\r\n                    </div>\r\n                </Route>\r\n                <Route exact={true} path={\"/new\"}>\r\n                    <New_Wallet/>\r\n                </Route>\r\n                <Route path={\"/logged\"}>\r\n                    <Logged />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return state\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const SET_WALLET = \"SET_WALLET\"\r\nexport const UPDATE_WALLET_NAME = \"UPDATE_WALLET_NAME\"\r\nexport const UPDATE_WALLET = \"UPDATE_WALLET_NAME\"\r\nexport const SET_BALANCE = \"SET_BALANCE\"\r\nexport const UPDATE_BALANCE = \"UPDATE_BALANCE\"\r\nexport const DELETE_BALANCE = \"DELETE_BALANCE\"\r\n","import {DELETE_BALANCE, SET_BALANCE, SET_WALLET, UPDATE_BALANCE, UPDATE_WALLET_NAME, UPDATE_WALLET} from \"../actionTypes\";\r\nimport {getBalance} from \"../../utils/walletServices\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst initialState = {\r\n    password_hash: undefined,\r\n    many_balances: undefined,\r\n    red: undefined,\r\n    green: undefined,\r\n    blue: undefined,\r\n    wallet_name: undefined,\r\n    gift_cards: undefined,\r\n    mnemonic_hash: undefined,\r\n    settings: {\r\n        many_resolve_nodes: undefined,\r\n        allow_biometrics: undefined,\r\n        many_balance_quorum: undefined,\r\n        many_resolve_quorum: undefined,\r\n        allow_notifications: undefined,\r\n        many_balance_nodes: undefined,\r\n        many_send_tx_nodes: undefined\r\n    },\r\n    balances: [\r\n        {\r\n            id: undefined,\r\n            status: undefined,\r\n            balance_hash: undefined,\r\n            amount_nmcm: undefined,\r\n            blockStatus: undefined,\r\n            tag: undefined,\r\n            wots_address: undefined,\r\n            many_spent: undefined,\r\n        }\r\n    ]\r\n}\r\n\r\nexport default function Store(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_WALLET:\r\n            return action.payload\r\n        case UPDATE_WALLET_NAME: {\r\n            let current = {...state}\r\n            // current['balances'][action.payload.id]\r\n            return {...state}\r\n        }\r\n        case SET_BALANCE: {\r\n            return {\r\n                ...state, many_balances: state.many_balances + 1, balances: {\r\n                    ...state.balances,\r\n                    [state.many_balances]: action.payload\r\n                }\r\n            }\r\n        }\r\n        case UPDATE_WALLET:{\r\n            return {...state}\r\n        }\r\n        case UPDATE_BALANCE: {\r\n            toast.success(`Balance : ${action.payload.id}, Key : ${action.payload.key} updated`)\r\n            let current = {...state}\r\n            current['balances'][action.payload.id][action.payload.key] = action.payload.value\r\n\r\n            return {...state}\r\n        }\r\n        case DELETE_BALANCE: {\r\n            let current = {...state}\r\n            delete current['balances'][action.payload.id]\r\n            return {...state}\r\n        }\r\n        default:\r\n            return null\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport wallet from \"./wallet\";\r\n\r\nexport default combineReducers({ wallet });","import {createStore} from \"redux\"\r\nimport reducers from \"./store/index\"\r\n\r\nexport default createStore(reducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() )\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"./redux/index.js\"\r\nimport 'bulma';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import {useState} from \"react\";\r\nimport {isArray} from \"underscore\";\r\nimport {render} from \"react-dom\";\r\nimport {isUndefined} from \"lodash/lang\";\r\n\r\nconst Modal = (props)=> {\r\n    let isActive = props.isActive ? \"is-active\" : \"none\"\r\n    const [active, setActive] = useState()\r\n    return(\r\n        <div className={isActive + \" modal\"}>\r\n            <div className=\"modal-background\" onClick={()=>{props.setActive(!props.isActive)}}></div>\r\n            <div className=\"modal-card\">\r\n                <header className=\"modal-card-head\">\r\n                    <p className=\"modal-card-title\">{props.title}</p>\r\n                    <button className=\"delete\" aria-label=\"close\" onClick={()=>{props.setActive(!props.isActive)}}></button>\r\n                </header>\r\n                <section className=\"modal-card-body\">\r\n                    {props.content}\r\n                </section>\r\n                <footer className=\"modal-card-foot\">\r\n                    {props.children}\r\n                    <button className=\"button\" onClick={()=>{props.setActive(!props.isActive)}}>Cancel</button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {Modal}"],"sourceRoot":""}